<nav class="barra-superior">
  <div class="d-flex align-items-center w-100">

    <!-- Boton del menu  -->
    <button class="btn btn-link boton-menu-toggle d-lg-none me-3" (click)="onToggleSidebar()">
      <i class="bi bi-list"></i>
    </button>

    <!-- Selector de idioma -->
    <div class="dropdown me-3">
      <button class="btn btn-light dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        <i class="bi bi-globe me-1"></i>
        {{ currentLang | uppercase }}
      </button>
      <ul class="dropdown-menu">
        <li>
          <button class="dropdown-item" [class.active]="currentLang === 'eu'" (click)="changeLanguage('eu')">
            <span class="me-2">ðŸ‡ªðŸ‡º</span> Euskara
          </button>
        </li>
        <li>
          <button class="dropdown-item" [class.active]="currentLang === 'es'" (click)="changeLanguage('es')">
            <span class="me-2">ðŸ‡ªðŸ‡¸</span> Castellano
          </button>
        </li>
        <li>
          <button class="dropdown-item" [class.active]="currentLang === 'en'" (click)="changeLanguage('en')">
            <span class="me-2">ðŸ‡¬ðŸ‡§</span> English
          </button>
        </li>
      </ul>
    </div>

    <!-- Usuario a la derecha -->
    <div class="dropdown ms-auto">
      <button class="btn btn-light dropdown-toggle dropdown-usuario d-flex align-items-center" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        <!-- Foto -->
        <img [src]="userAvatar" [alt]="currentUser?.izena" class="avatar-usuario">

        <!-- Nombre y rol -->
        <div class="detalles-usuario ms-2">
          <span class="nombre-usuario">{{ currentUser?.izena }} {{ currentUser?.abizena }}</span>
          <span class="rol-usuario">{{ getUserRoleLabel() | translate }}</span>
        </div>
      </button>

      <!-- Dropdown menu -->
      <ul class="dropdown-menu menu-dropdown-derecha">
        <li>
          <a class="dropdown-item" routerLink="/profila">
            <i class="bi bi-person me-2"></i>
            {{ 'NAVBAR.PROFILE' | translate }}
          </a>
        </li>
        <li><hr class="dropdown-divider"></li>
        <li>
          <button class="dropdown-item text-danger" (click)="onLogout()">
            <i class="bi bi-box-arrow-right me-2"></i>
            {{ 'NAVBAR.LOGOUT' | translate }}
          </button>
        </li>
      </ul>
    </div>

  </div>
</nav>
