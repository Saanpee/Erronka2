import{a as X}from"./chunk-KFRKJJ5M.js";import{a as F}from"./chunk-LH72YYA6.js";import{a as U}from"./chunk-E6XGQANW.js";import"./chunk-PNKEXE34.js";import{c as A,f as L}from"./chunk-MJJXFY2L.js";import{Hb as y,Ib as C,La as x,Lb as T,Mb as O,Na as s,Qa as n,Ra as a,Sa as c,Vb as B,Wb as D,Xa as u,Z as b,bb as l,cb as f,db as g,eb as _,jb as k,kb as E,mb as d,nb as m,ob as S,ua as h,xa as i,ya as v}from"./chunk-6OJ5OLV5.js";var z=()=>[1,2,3,4,5,6];function R(t,o){if(t&1&&(n(0,"li",7),l(1),a()),t&2){let e=u();i(),_(" ",e.ikasle.izena," ",e.ikasle.abizena," ")}}function M(t,o){t&1&&c(0,"app-loading-spinner")}function G(t,o){if(t&1&&(n(0,"li",15),c(1,"i",32),l(2),a()),t&2){let e=u(2);i(2),g(" ",e.ikasle.telefonoa," ")}}function K(t,o){if(t&1&&(n(0,"li",15),c(1,"i",33),l(2),a()),t&2){let e=u(2);i(2),g(" ",e.ikasle.zikloa," ")}}function N(t,o){if(t&1&&(n(0,"li",15),c(1,"i",34),l(2),a()),t&2){let e=u(2);i(2),g(" ",e.ikasle.taldea," ")}}function Y(t,o){t&1&&(n(0,"p",35),l(1),d(2,"translate"),a()),t&2&&(i(),g(" ",m(2,1,"IKASLE.NO_MEETINGS")," "))}function $(t,o){if(t&1&&(n(0,"li",38)(1,"strong"),l(2),a(),n(3,"small",39),l(4),d(5,"date"),a()()),t&2){let e=o.$implicit;i(2),f(e.izena),i(2),_(" ",S(5,3,e.data,"dd/MM/yyyy")," - ",e.hasieraOrdua," ")}}function j(t,o){if(t&1&&(n(0,"ul",36),x(1,$,6,6,"li",37),a()),t&2){let e=u(2);i(),s("ngForOf",e.bilerak)}}function P(t,o){if(t&1&&(n(0,"span",42),l(1),a()),t&2){let e=o.ngIf;i(),g(" ",e," ")}}function w(t,o){if(t&1&&(n(0,"td",30),x(1,P,2,1,"span",41),a()),t&2){let e=o.$implicit,r=u().$implicit,p=u(2);i(),s("ngIf",p.getOrdutegiaCell(e,r))}}function H(t,o){if(t&1&&(n(0,"tr")(1,"th",30),l(2),a(),x(3,w,2,1,"td",40),a()),t&2){let e=o.$implicit,r=u(2);i(2),g("",e,". ordua"),i(),s("ngForOf",r.egunak)}}function W(t,o){if(t&1&&(n(0,"div")(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),c(5,"img",12),n(6,"h4"),l(7),a(),n(8,"span",13),l(9),d(10,"translate"),a(),n(11,"ul",14)(12,"li",15),c(13,"i",16),l(14),a(),x(15,G,3,1,"li",17)(16,K,3,1,"li",17)(17,N,3,1,"li",17),a()()(),n(18,"div",18)(19,"div",19)(20,"h5",20),c(21,"i",21),l(22),d(23,"translate"),a()(),n(24,"div",22),x(25,Y,3,3,"p",23)(26,j,2,1,"ul",24),a()()(),n(27,"div",25)(28,"div",10)(29,"div",19)(30,"h5",20),c(31,"i",26),l(32),d(33,"translate"),a()(),n(34,"div",22)(35,"div",27)(36,"table",28)(37,"thead",29)(38,"tr"),c(39,"th"),n(40,"th",30),l(41),d(42,"translate"),a(),n(43,"th",30),l(44),d(45,"translate"),a(),n(46,"th",30),l(47),d(48,"translate"),a(),n(49,"th",30),l(50),d(51,"translate"),a(),n(52,"th",30),l(53),d(54,"translate"),a()()(),n(55,"tbody"),x(56,H,4,2,"tr",31),a()()()()()()()()),t&2){let e=u();i(5),s("src",e.getUserAvatar(),h)("alt",e.ikasle.izena),i(2),_("",e.ikasle.izena," ",e.ikasle.abizena,""),i(2),f(m(10,19,"ROLES.IKASLE")),i(5),g(" ",e.ikasle.email," "),i(),s("ngIf",e.ikasle.telefonoa),i(),s("ngIf",e.ikasle.zikloa),i(),s("ngIf",e.ikasle.taldea),i(5),g(" ",m(23,21,"IKASLE.BILERAK")," "),i(3),s("ngIf",e.bilerak.length===0),i(),s("ngIf",e.bilerak.length>0),i(6),g(" ",m(33,23,"ORDUTEGIA.TITLE")," "),i(9),f(m(42,25,"ORDUTEGIA.MONDAY")),i(3),f(m(45,27,"ORDUTEGIA.TUESDAY")),i(3),f(m(48,29,"ORDUTEGIA.WEDNESDAY")),i(3),f(m(51,31,"ORDUTEGIA.THURSDAY")),i(3),f(m(54,33,"ORDUTEGIA.FRIDAY")),i(3),s("ngForOf",E(35,z))}}var le=(()=>{class t{constructor(e,r,p){this.userService=e,this.bileraService=r,this.route=p,this.ikasle=null,this.ordutegia=[],this.bilerak=[],this.egunak=["astelehena","asteartea","asteazkena","osteguna","ostirala"],this.isLoading=!0}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.loadIkasle(parseInt(e,10))}loadIkasle(e){this.isLoading=!0,this.userService.getById(e).subscribe({next:r=>{this.ikasle=r,this.loadOrdutegia(e),this.loadBilerak()},error:()=>{this.isLoading=!1}})}loadOrdutegia(e){this.userService.getOrdutegiaByUserId(e).subscribe({next:r=>{this.ordutegia=r,this.isLoading=!1},error:()=>{this.isLoading=!1}})}loadBilerak(){this.bileraService.getUpcoming(3).subscribe({next:e=>{this.bilerak=e}})}getOrdutegiaCell(e,r){let p=this.ordutegia.find(I=>I.eguna===e&&I.ordua===r);return p?p.ikasgaia:null}getUserAvatar(){return this.ikasle?.argazkia?`assets/images/${this.ikasle.argazkia}`:"assets/images/default-avatar.png"}static{this.\u0275fac=function(r){return new(r||t)(v(U),v(X),v(A))}}static{this.\u0275cmp=b({type:t,selectors:[["app-ikasle-xehetasuna"]],standalone:!0,features:[k],decls:10,vars:6,consts:[[1,"ikasle-detail-page","fade-in"],["aria-label","breadcrumb",1,"mb-4"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/ikasleak"],["class","breadcrumb-item active",4,"ngIf"],[4,"ngIf"],[1,"breadcrumb-item","active"],[1,"row","g-4"],[1,"col-12","col-lg-4"],[1,"card"],[1,"card-body","text-center"],[1,"ikasle-avatar-lg","mb-3",3,"src","alt"],[1,"badge","bg-info","mb-3"],[1,"list-unstyled","text-start","mt-4"],[1,"mb-2"],[1,"bi","bi-envelope","me-2","text-primary"],["class","mb-2",4,"ngIf"],[1,"card","mt-4"],[1,"card-header"],[1,"mb-0"],[1,"bi","bi-calendar-event","me-2"],[1,"card-body"],["class","text-muted text-center",4,"ngIf"],["class","list-group list-group-flush",4,"ngIf"],[1,"col-12","col-lg-8"],[1,"bi","bi-clock","me-2"],[1,"table-responsive"],[1,"table","table-bordered","ordutegia-table"],[1,"table-info"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"bi","bi-telephone","me-2","text-primary"],[1,"bi","bi-book","me-2","text-primary"],[1,"bi","bi-people","me-2","text-primary"],[1,"text-muted","text-center"],[1,"list-group","list-group-flush"],["class","list-group-item px-0",4,"ngFor","ngForOf"],[1,"list-group-item","px-0"],[1,"d-block","text-muted"],["class","text-center",4,"ngFor","ngForOf"],["class","ordutegia-cell",4,"ngIf"],[1,"ordutegia-cell"]],template:function(r,p){r&1&&(n(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),l(5),d(6,"translate"),a()(),x(7,R,2,2,"li",5),a()(),x(8,M,1,0,"app-loading-spinner",6)(9,W,57,36,"div",6),a()),r&2&&(i(5),f(m(6,4,"IKASLEAK.TITLE")),i(2),s("ngIf",p.ikasle),i(),s("ngIf",p.isLoading),i(),s("ngIf",!p.isLoading&&p.ikasle))},dependencies:[O,y,C,T,L,D,B,F],styles:[".ikasle-avatar-lg[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:cover;border:4px solid #17a2b8}.ordutegia-cell[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;background-color:#e8f4f8;border-radius:.25rem;font-size:.875rem}"]})}}return t})();export{le as IkasleXehetasunaComponent};
