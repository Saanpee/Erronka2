import{a as p}from"./chunk-PNKEXE34.js";import{E as n,Q as m,Qb as u,V as s,a as l,b as k,n as r,r as d}from"./chunk-6OJ5OLV5.js";var D=(()=>{class o{constructor(a){this.http=a,this.apiUrl=`${p.apiUrl}/bilerak`,this.mockBilerak=[{id:1,izena:"Koordinazio bilera",deskribapena:"Departamentu arteko koordinazio bilera",data:new Date("2026-01-20"),hasieraOrdua:"10:00",amaieraOrdua:"12:00",ikastetxeaId:1,ikastetxeaIzena:"CIFP Elorrieta-Erreka Mari LHII",mota:"hezkuntza_saila",antolatzaileId:2,antolatzaileIzena:"Maria Garcia",sortzeData:new Date("2026-01-10"),egoera:"programatua"},{id:2,izena:"Ikasleen orientazio bilera",deskribapena:"Ikasleen lan mundurako orientazioa",data:new Date("2026-01-22"),hasieraOrdua:"09:00",amaieraOrdua:"11:00",ikastetxeaId:2,ikastetxeaIzena:"IES Miguel de Unamuno BHI",mota:"guztiak",antolatzaileId:1,antolatzaileIzena:"Admin God",sortzeData:new Date("2026-01-12"),egoera:"programatua"},{id:3,izena:"Proiektu aurkezpena",deskribapena:"Erronka proiektuaren aurkezpena",data:new Date("2026-01-25"),hasieraOrdua:"16:00",amaieraOrdua:"18:00",ikastetxeaId:1,ikastetxeaIzena:"CIFP Elorrieta-Erreka Mari LHII",mota:"pribatua",antolatzaileId:3,antolatzaileIzena:"Mikel Etxebarria",sortzeData:new Date("2026-01-15"),egoera:"programatua"},{id:4,izena:"Departamentu bilera",deskribapena:"Informatika departamentuaren hilabeteko bilera",data:new Date("2026-01-15"),hasieraOrdua:"14:00",amaieraOrdua:"15:30",ikastetxeaId:1,ikastetxeaIzena:"CIFP Elorrieta-Erreka Mari LHII",mota:"pribatua",antolatzaileId:4,antolatzaileIzena:"Ane Zubiaga",sortzeData:new Date("2026-01-05"),egoera:"burutua"}]}getAll(){return r([...this.mockBilerak]).pipe(n(300))}getById(a){return r(this.mockBilerak.find(t=>t.id===a)).pipe(n(200))}getFiltered(a){return r(this.mockBilerak).pipe(n(300),d(t=>{let e=[...t];return a.mota&&a.mota!=="guztiak"&&(e=e.filter(i=>i.mota===a.mota)),a.ikastetxeaId&&(e=e.filter(i=>i.ikastetxeaId===a.ikastetxeaId)),a.dataHasiera&&(e=e.filter(i=>new Date(i.data)>=a.dataHasiera)),a.dataAmaiera&&(e=e.filter(i=>new Date(i.data)<=a.dataAmaiera)),e}))}getGaurkoBilerak(){let a=new Date;return a.setHours(0,0,0,0),r(this.mockBilerak.filter(t=>{let e=new Date(t.data);return e.setHours(0,0,0,0),e.getTime()===a.getTime()})).pipe(n(200))}getUpcoming(a){let t=new Date;return r(this.mockBilerak.filter(e=>new Date(e.data)>=t&&e.egoera==="programatua").sort((e,i)=>new Date(e.data).getTime()-new Date(i.data).getTime()).slice(0,a||10)).pipe(n(200))}create(a){let t=k(l({id:Math.max(...this.mockBilerak.map(e=>e.id))+1},a),{antolatzaileId:1,antolatzaileIzena:"Admin User",sortzeData:new Date,egoera:"programatua"});return this.mockBilerak.push(t),r(t).pipe(n(300))}update(a,t){let e=this.mockBilerak.findIndex(i=>i.id===a);return e!==-1?(this.mockBilerak[e]=l(l({},this.mockBilerak[e]),t),r(this.mockBilerak[e]).pipe(n(300))):r(null)}delete(a){let t=this.mockBilerak.findIndex(e=>e.id===a);return t!==-1&&this.mockBilerak.splice(t,1),r(void 0).pipe(n(300))}getCount(){return r(this.mockBilerak.length).pipe(n(100))}getGaurkoKopurua(){return this.getGaurkoBilerak().pipe(d(a=>a.length))}static{this.\u0275fac=function(t){return new(t||o)(s(u))}}static{this.\u0275prov=m({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{D as a};
