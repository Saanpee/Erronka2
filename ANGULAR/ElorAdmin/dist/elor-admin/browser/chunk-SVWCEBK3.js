import{b as w,d as z,f as N,n as U}from"./chunk-MJSMXMHF.js";import{a as Z}from"./chunk-LH72YYA6.js";import{a as F}from"./chunk-E6XGQANW.js";import"./chunk-PNKEXE34.js";import{f as O}from"./chunk-MJJXFY2L.js";import{Hb as A,Ib as M,La as f,Mb as T,Na as p,Qa as n,Ra as i,Sa as c,Vb as B,Wa as S,Wb as K,Xa as h,Z as I,bb as r,cb as l,db as x,eb as E,fb as _,gb as y,hb as C,jb as b,lb as L,mb as o,nb as d,ua as k,xa as t,ya as v}from"./chunk-6OJ5OLV5.js";var Q=a=>["/ikasleak",a];function R(a,g){a&1&&c(0,"app-loading-spinner")}function P(a,g){if(a&1&&(n(0,"tr")(1,"td"),c(2,"img",18),i(),n(3,"td")(4,"strong"),r(5),i()(),n(6,"td"),r(7),i(),n(8,"td"),r(9),i(),n(10,"td"),r(11),i(),n(12,"td",16)(13,"a",19),c(14,"i",20),i()()()),a&2){let e=g.$implicit,s=h(2);t(2),p("src",s.getUserAvatar(e),k)("alt",e.izena),t(3),E("",e.izena," ",e.abizena,""),t(2),l(e.email),t(2),l(e.zikloa||"-"),t(2),l(e.taldea||"-"),t(2),p("routerLink",L(8,Q,e.id))}}function H(a,g){a&1&&(n(0,"tr")(1,"td",21),c(2,"i",22),r(3),o(4,"translate"),i()()),a&2&&(t(3),x(" ",d(4,1,"IKASLEAK.NO_STUDENTS")," "))}function W(a,g){if(a&1&&(n(0,"div",13)(1,"div",14)(2,"table",15)(3,"thead")(4,"tr")(5,"th"),r(6),o(7,"translate"),i(),n(8,"th"),r(9),o(10,"translate"),i(),n(11,"th"),r(12),o(13,"translate"),i(),n(14,"th"),r(15),o(16,"translate"),i(),n(17,"th"),r(18),o(19,"translate"),i(),n(20,"th",16),r(21),o(22,"translate"),i()()(),n(23,"tbody"),f(24,P,15,10,"tr",17)(25,H,5,3,"tr",11),i()()()()),a&2){let e=h();t(6),l(d(7,8,"USER.PHOTO")),t(3),l(d(10,10,"USER.NAME")),t(3),l(d(13,12,"USER.EMAIL")),t(3),l(d(16,14,"IKASLE.ZIKLOA")),t(3),l(d(19,16,"IKASLE.TALDEA")),t(3),l(d(22,18,"COMMON.ACTIONS")),t(3),p("ngForOf",e.filteredIkasleak),t(),p("ngIf",e.filteredIkasleak.length===0)}}var ie=(()=>{class a{constructor(e){this.userService=e,this.ikasleak=[],this.filteredIkasleak=[],this.searchQuery="",this.isLoading=!0}ngOnInit(){this.loadIkasleak()}loadIkasleak(){this.isLoading=!0,this.userService.getIkasleak().subscribe({next:e=>{this.ikasleak=e,this.filteredIkasleak=e,this.isLoading=!1},error:()=>{this.isLoading=!1}})}onSearch(){if(!this.searchQuery.trim()){this.filteredIkasleak=this.ikasleak;return}let e=this.searchQuery.toLowerCase();this.filteredIkasleak=this.ikasleak.filter(s=>s.izena.toLowerCase().includes(e)||s.abizena.toLowerCase().includes(e)||s.email.toLowerCase().includes(e))}getUserAvatar(e){return e.argazkia?`assets/images/${e.argazkia}`:"assets/images/default-avatar.png"}static{this.\u0275fac=function(s){return new(s||a)(v(F))}}static{this.\u0275cmp=I({type:a,selectors:[["app-ikasle-zerrenda"]],standalone:!0,features:[b],decls:19,vars:12,consts:[[1,"ikasleak-page","fade-in"],[1,"page-header","mb-4"],[1,"text-muted","mb-0"],[1,"card","mb-4"],[1,"card-body"],[1,"row","g-3"],[1,"col-12","col-md-6","col-lg-4"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],["type","text",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","card",4,"ngIf"],[1,"card"],[1,"table-responsive"],[1,"table","table-hover","mb-0"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"ikasle-avatar",3,"src","alt"],[1,"btn","btn-outline-primary","btn-sm",3,"routerLink"],[1,"bi","bi-eye"],["colspan","6",1,"text-center","py-4","text-muted"],[1,"bi","bi-mortarboard","display-4","d-block","mb-2"]],template:function(s,m){s&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),r(3),o(4,"translate"),i(),n(5,"p",2),r(6),o(7,"translate"),i()(),n(8,"div",3)(9,"div",4)(10,"div",5)(11,"div",6)(12,"div",7)(13,"span",8),c(14,"i",9),i(),n(15,"input",10),o(16,"translate"),C("ngModelChange",function(u){return y(m.searchQuery,u)||(m.searchQuery=u),u}),S("ngModelChange",function(){return m.onSearch()}),i()()()()()(),f(17,R,1,0,"app-loading-spinner",11)(18,W,26,20,"div",12),i()),s&2&&(t(3),l(d(4,6,"IKASLEAK.TITLE")),t(3),l(d(7,8,"IKASLEAK.SUBTITLE")),t(9),_("ngModel",m.searchQuery),p("placeholder",d(16,10,"IKASLEAK.SEARCH_PLACEHOLDER")),t(2),p("ngIf",m.isLoading),t(),p("ngIf",!m.isLoading))},dependencies:[T,A,M,O,U,w,z,N,K,B,Z],styles:[".ikasle-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover}"]})}}return a})();export{ie as IkasleZerrendaComponent};
