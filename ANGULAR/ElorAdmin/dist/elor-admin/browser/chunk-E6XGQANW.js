import{a as g}from"./chunk-PNKEXE34.js";import{E as r,Q as k,Qb as d,V as u,a as o,b as l,n as t,r as n}from"./chunk-6OJ5OLV5.js";var b=(()=>{class s{constructor(a){this.http=a,this.apiUrl=`${g.apiUrl}/users`,this.mockUsers=[{id:1,izena:"Admin",abizena:"God",email:"god@elorrieta.eus",rola:"god",sortzeData:new Date("2020-01-01"),aktibo:!0,telefonoa:"944123456"},{id:2,izena:"Maria",abizena:"Garcia",email:"maria@elorrieta.eus",rola:"admin",sortzeData:new Date("2021-05-15"),aktibo:!0,telefonoa:"944123457"},{id:3,izena:"Mikel",abizena:"Etxebarria",email:"mikel@elorrieta.eus",rola:"irakasle",sortzeData:new Date("2019-09-01"),aktibo:!0,telefonoa:"944123458"},{id:4,izena:"Ane",abizena:"Zubiaga",email:"ane@elorrieta.eus",rola:"irakasle",sortzeData:new Date("2020-09-01"),aktibo:!0},{id:5,izena:"Jon",abizena:"Aguirre",email:"jon@ikasle.elorrieta.eus",rola:"ikasle",sortzeData:new Date("2023-09-01"),aktibo:!0},{id:6,izena:"Miren",abizena:"Lopez",email:"miren@ikasle.elorrieta.eus",rola:"ikasle",sortzeData:new Date("2023-09-01"),aktibo:!0},{id:7,izena:"Aitor",abizena:"Fernandez",email:"aitor@ikasle.elorrieta.eus",rola:"ikasle",sortzeData:new Date("2024-09-01"),aktibo:!0}]}getAll(a){return t(this.mockUsers).pipe(r(300),n(e=>a?e.filter(i=>i.rola===a):e))}getById(a){return t(this.mockUsers.find(e=>e.id===a)).pipe(r(200))}getAdministratzaileak(){return this.getAll().pipe(n(a=>a.filter(e=>e.rola==="god"||e.rola==="admin")))}getIrakasleak(){return this.getAll("irakasle")}getIkasleak(){return this.getAll("ikasle")}create(a){let e=l(o({id:Math.max(...this.mockUsers.map(i=>i.id))+1},a),{sortzeData:new Date,aktibo:!0});return this.mockUsers.push(e),t(e).pipe(r(300))}update(a,e){let i=this.mockUsers.findIndex(m=>m.id===a);return i!==-1?(this.mockUsers[i]=o(o({},this.mockUsers[i]),e),t(this.mockUsers[i]).pipe(r(300))):t(null)}delete(a){let e=this.mockUsers.findIndex(i=>i.id===a);return e!==-1&&this.mockUsers.splice(e,1),t(void 0).pipe(r(300))}search(a){let e=a.toLowerCase();return t(this.mockUsers.filter(i=>i.izena.toLowerCase().includes(e)||i.abizena.toLowerCase().includes(e)||i.email.toLowerCase().includes(e))).pipe(r(200))}getCounts(){return t({ikasleak:this.mockUsers.filter(a=>a.rola==="ikasle").length,irakasleak:this.mockUsers.filter(a=>a.rola==="irakasle").length,adminak:this.mockUsers.filter(a=>a.rola==="god"||a.rola==="admin").length}).pipe(r(200))}getOrdutegiaByUserId(a){return t([{eguna:"astelehena",ordua:1,ikasgaia:"Ikasgaia 1"},{eguna:"astelehena",ordua:2,ikasgaia:"Ikasgaia 1"},{eguna:"asteartea",ordua:3,ikasgaia:"Tutoretza"},{eguna:"asteazkena",ordua:2,ikasgaia:"Ikasgaia 2"},{eguna:"asteazkena",ordua:3,ikasgaia:"Ikasgaia 2"},{eguna:"osteguna",ordua:1,ikasgaia:"Ikasgaia 1"},{eguna:"osteguna",ordua:3,ikasgaia:"Ikasgaia 1"},{eguna:"osteguna",ordua:4,ikasgaia:"Zaintza"},{eguna:"ostirala",ordua:3,ikasgaia:"Zaintza"},{eguna:"ostirala",ordua:4,ikasgaia:"Ikasgaia 3"}]).pipe(r(200))}static{this.\u0275fac=function(e){return new(e||s)(u(d))}}static{this.\u0275prov=k({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{b as a};
